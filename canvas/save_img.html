<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<canvas id="canv" style="border: 1px solid black;"></canvas>

<script>
  window.onload = function () {
    canv.width = 400
    canv.height = 400

    const ctx = canv.getContext('2d')
    ctx.strokeRect(100, 100, 200, 250)

    save(canv)
  }

  function save(canv) {
    const dataURL = canv.toDataURL({
      format: 'image/png',
      quality: 1,
      width: 100,
      height: 100
    })

    const img = new Image()
    img.src = dataURL
    document.body.append(img)

    const pureDataURL = dataURL.replace(/^data:.*?,/, '')


    const a = document.createElement('a')
    a.download = 'abc'
    a.href = dataURL
    a.click()
  }
</script>
</body>
</html>
